const productsContainer=document.querySelector(".products-items"),form=document.querySelector("#form-newsletter"),getProducts=async()=>{const e=await fetch("https://corebiz-test.herokuapp.com/api/v1/products");return await e.json()},generateFormattedCurrency=e=>{if(null!==e){return(e/100).toLocaleString("pt-BR",{style:"currency",currency:"BRL"})}return!1},generateInstallmentInformation=e=>{e.map(e=>`ou em ${e.quantity}x de ${generateFormattedCurrency(e.value)}`)},generateProductsTemplate=e=>e.map(({imageUrl:e,productName:t,listPrice:a,price:r,stars:s,installments:n})=>{return`\n  <article class="products-item">\n    <figure class="products-figure">\n      <img src="${e}" alt="${t}" class="image-responsive">\n    </figure>\n    <div class="products-info">\n      <h2 class="products-name">${t}</h2>\n      <div class="stars-items">\n        <svg width="12" height="11" fill="none" class="star-item">\n          <path class="star-fill" d="M5.7 8.7L9.2 10.6 8.3 6.9 11.4 4.5 7.3 4.1 5.7 0.6 4.1 4.1 0 4.5 3.1 6.9 2.2 10.6 5.7 8.7Z" fill="#F8475F"/>\n          <path class="star" d="M11.4 4.5L7.3 4.1 5.7 0.6 4.1 4.1 0 4.5 3.1 6.9 2.2 10.6 5.7 8.7 9.2 10.6 8.3 6.9 11.4 4.5ZM5.7 7.7L3.6 8.9 4.1 6.6 2.2 5.1 4.7 4.9 5.7 2.8 6.7 4.9 9.2 5.1 7.3 6.6 7.8 8.9 5.7 7.7Z" fill="#F8475F"/>\n        </svg>\n        <svg width="12" height="11" fill="none" class="star-item">\n          <path class="star-fill" d="M5.7 8.7L9.2 10.6 8.3 6.9 11.4 4.5 7.3 4.1 5.7 0.6 4.1 4.1 0 4.5 3.1 6.9 2.2 10.6 5.7 8.7Z" fill="#F8475F"/>\n          <path class="star" d="M11.4 4.5L7.3 4.1 5.7 0.6 4.1 4.1 0 4.5 3.1 6.9 2.2 10.6 5.7 8.7 9.2 10.6 8.3 6.9 11.4 4.5ZM5.7 7.7L3.6 8.9 4.1 6.6 2.2 5.1 4.7 4.9 5.7 2.8 6.7 4.9 9.2 5.1 7.3 6.6 7.8 8.9 5.7 7.7Z" fill="#F8475F"/>\n        </svg>\n        <svg width="12" height="11" fill="none" class="star-item">\n          <path class="star-fill" d="M5.7 8.7L9.2 10.6 8.3 6.9 11.4 4.5 7.3 4.1 5.7 0.6 4.1 4.1 0 4.5 3.1 6.9 2.2 10.6 5.7 8.7Z" fill="#F8475F"/>\n          <path class="star" d="M11.4 4.5L7.3 4.1 5.7 0.6 4.1 4.1 0 4.5 3.1 6.9 2.2 10.6 5.7 8.7 9.2 10.6 8.3 6.9 11.4 4.5ZM5.7 7.7L3.6 8.9 4.1 6.6 2.2 5.1 4.7 4.9 5.7 2.8 6.7 4.9 9.2 5.1 7.3 6.6 7.8 8.9 5.7 7.7Z" fill="#F8475F"/>\n        </svg>\n        <svg width="12" height="11" fill="none" class="star-item">\n          <path class="star-fill" d="M5.7 8.7L9.2 10.6 8.3 6.9 11.4 4.5 7.3 4.1 5.7 0.6 4.1 4.1 0 4.5 3.1 6.9 2.2 10.6 5.7 8.7Z" fill="#F8475F"/>\n          <path class="star" d="M11.4 4.5L7.3 4.1 5.7 0.6 4.1 4.1 0 4.5 3.1 6.9 2.2 10.6 5.7 8.7 9.2 10.6 8.3 6.9 11.4 4.5ZM5.7 7.7L3.6 8.9 4.1 6.6 2.2 5.1 4.7 4.9 5.7 2.8 6.7 4.9 9.2 5.1 7.3 6.6 7.8 8.9 5.7 7.7Z" fill="#F8475F"/>\n        </svg>\n        <svg width="12" height="11" fill="none" class="star-item">\n          <path class="star-fill" d="M5.7 8.7L9.2 10.6 8.3 6.9 11.4 4.5 7.3 4.1 5.7 0.6 4.1 4.1 0 4.5 3.1 6.9 2.2 10.6 5.7 8.7Z" fill="#F8475F"/>\n          <path class="star" d="M11.4 4.5L7.3 4.1 5.7 0.6 4.1 4.1 0 4.5 3.1 6.9 2.2 10.6 5.7 8.7 9.2 10.6 8.3 6.9 11.4 4.5ZM5.7 7.7L3.6 8.9 4.1 6.6 2.2 5.1 4.7 4.9 5.7 2.8 6.7 4.9 9.2 5.1 7.3 6.6 7.8 8.9 5.7 7.7Z" fill="#F8475F"/>\n        </svg>\n      </div>\n      <p class="products-listprice">de ${generateFormattedCurrency(a)}</p>\n      <p class="products-price">por ${generateFormattedCurrency(r)}</p>\n      <p class="products-installment">${l=n,void l.map(e=>`ou em ${e.quantity}x de ${generateFormattedCurrency(e.value)}`)}</p>\n    </div>\n    <button class="products-buy">Comprar</button>\n  </article>`;var l}).join(""),cleanInstallmentContainer=e=>{document.querySelectorAll(e).forEach(e=>{e.remove()})},cleanListPriceContainer=e=>{document.querySelectorAll(e).forEach(e=>{"de false"===e.textContent&&e.remove()})},cleanContainers=(e,t)=>{var r;a=e,document.querySelectorAll(a).forEach(e=>{e.remove()}),cleanListPriceContainer(t)},addProductsIntoDOM=async()=>{const e=await getProducts(),t=generateProductsTemplate(e);var a,r;productsContainer.innerHTML+=t,a=".products-listprice",r=".products-installment",document.querySelectorAll(r).forEach(e=>{e.remove()}),cleanListPriceContainer(a)},paragraphFeedbackMessageEmail=document.createElement("p"),paragraphFeedbackMessageName=document.createElement("p"),insertFeedbackMessage=(e,t,a)=>{a.setAttribute("class","error"),a.textContent=t,e.style.outline="#D7182A auto 1px",e.insertAdjacentElement("afterend",a)},removeFeedbackMessage=e=>{const t=document.querySelector(".error");e.style.outline="none",t.remove()},testName=e=>/^[a-z-A-Z\D]+$/g.test(e),testEmail=e=>/^[a-z0-9.]+@[a-z0-9]+\.[a-z]+\.([a-z]+)?$/i.test(e),formReset=()=>{form.reset(),form.name.focus()};form.addEventListener("submit",e=>{e.preventDefault();e.target.name,e.target.email}),form.name.addEventListener("input",()=>{testName(name.value)?removeFeedbackMessage(name):insertFeedbackMessage(name,"Preencha com seu nome completo",paragraphFeedbackMessageName)}),form.email.addEventListener("input",()=>{testEmail(email.value)?removeFeedbackMessage(email):insertFeedbackMessage(email,"Preencha com um e-mail v√°lido",paragraphFeedbackMessageEmail)}),addProductsIntoDOM();
//# sourceMappingURL=main.min.js.map