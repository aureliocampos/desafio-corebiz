{"version":3,"sources":["main.js"],"names":["productsContainer","document","querySelector","form","getProducts","async","response","fetch","json","generateFormattedCurrency","number","toLocaleString","style","currency","generateInstallmentInformation","arrays","map","item","quantity","value","generateProductsTemplate","products","imageUrl","productName","listPrice","price","stars","installments","join","cleanInstallmentContainer","container","querySelectorAll","forEach","remove","cleanListPriceContainer","textContent","cleanContainers","primaryContainer","secondContainer","addProductsIntoDOM","productsTemplate","innerHTML","paragraphFeedbackMessageEmail","createElement","paragraphFeedbackMessageName","insertFeedbackMessage","input","text","target","setAttribute","outline","insertAdjacentElement","removeFeedbackMessage","error","testName","name","test","testEmail","email","formReset","reset","focus","addEventListener","event","preventDefault"],"mappings":"AAAA,MAAMA,kBAAoBC,SAASC,cAAc,mBAC3CC,KAAOF,SAASC,cAAc,oBAE9BE,YAAcC,UAElB,MAAMC,QAAiBC,MAAM,sDAC7B,aAAaD,EAASE,QAGlBC,0BAA4BC,IAChC,GAAc,OAAXA,EAAiB,CAGlB,OAFkBA,EAAS,KAEXC,eAAe,QAAS,CAAEC,MAAO,WAAYC,SAAU,QAGzE,OAAO,GAEHC,+BAAiCC,IAErCA,EAAOC,IAAKC,GACV,SAASA,EAAKC,gBAAgBT,0BAA0BQ,EAAKE,WAG3DC,yBAA2BC,GAAYA,EAASL,IAAI,EAAGM,SAAAA,EAAUC,YAAAA,EAAaC,UAAAA,EAAWC,MAAAA,EAAOC,MAAAA,EAAOC,aAAAA,MAAmB,MAAA,8FAG9GL,WAAkBC,iHAGFA,42EAuBOd,0BAA0Be,+CAC7Bf,0BAA0BgB,iDApCzBV,EAqCgCY,OAnCrEZ,EAAOC,IAAKC,GACV,SAASA,EAAKC,gBAAgBT,0BAA0BQ,EAAKE,6FAH1BJ,IAAAA,IAwCxBa,KAAK,IAGdC,0BAA4BC,IAChC7B,SAAS8B,iBAAiBD,GAAWE,QAASf,IAC5CA,EAAKgB,YAGHC,wBAA0BJ,IAC9B7B,SAAS8B,iBAAiBD,GAAWE,QAASf,IACpB,aAArBA,EAAKkB,aACNlB,EAAKgB,YAILG,gBAAkB,CAACC,EAAkBC,KAZTR,IAAAA,EAAAA,EAaNO,EAZ1BpC,SAAS8B,iBAAiBD,GAAWE,QAASf,IAC5CA,EAAKgB,WAYPC,wBAAwBI,IAGpBC,mBAAqBlC,UACzB,MAAMgB,QAAiBjB,cACjBoC,EAAmBpB,yBAAyBC,GAP5B,IAAmBiB,EAZTR,EAqBhC9B,kBAAkByC,WAAaD,EATUF,EAWA,sBAvBTR,EAuBhB,wBAtBhB7B,SAAS8B,iBAAiBD,GAAWE,QAASf,IAC5CA,EAAKgB,WAYPC,wBAAwBI,IAYpBI,8BAAgCzC,SAAS0C,cAAc,KACvDC,6BAA+B3C,SAAS0C,cAAc,KAEtDE,sBAAwB,CAACC,EAAOC,EAAMC,KAC1CA,EAAOC,aAAa,QAAS,SAC7BD,EAAOb,YAAcY,EAErBD,EAAMlC,MAAMsC,QAAU,mBACtBJ,EAAMK,sBAAsB,WAAYH,IAEpCI,sBAAwBN,IAC5B,MAAMO,EAAQpD,SAASC,cAAc,UAErC4C,EAAMlC,MAAMsC,QAAU,OACtBG,EAAMpB,UAEFqB,SAAWC,GAAQ,kBAAkBC,KAAKD,GAC1CE,UAAYC,GAAS,6CAA6CF,KAAKE,GAEvEC,UAAY,KAChBxD,KAAKyD,QACLzD,KAAKoD,KAAKM,SAGZ1D,KAAK2D,iBAAiB,SAAUC,IAC9BA,EAAMC,iBAEOD,EAAMf,OAAOO,KACZQ,EAAMf,OAAOU,QAI7BvD,KAAKoD,KAAKO,iBAAiB,QAAS,KACdR,SAASC,KAAKpC,OAGhCiC,sBAAsBG,MAGxBV,sBAAsBU,KAAM,iCAAkCX,gCAGhEzC,KAAKuD,MAAMI,iBAAiB,QAAS,KACdL,UAAUC,MAAMvC,OAEnCiC,sBAAsBM,OAGxBb,sBAAsBa,MAAO,gCAAiChB,iCAGhEH","file":"main.min.js","sourcesContent":["const productsContainer = document.querySelector('.products-items')\r\nconst form = document.querySelector('#form-newsletter')\r\n\r\nconst getProducts = async () => {\r\n\r\n  const response = await fetch('https://corebiz-test.herokuapp.com/api/v1/products')\r\n  return await response.json()\r\n}\r\n\r\nconst generateFormattedCurrency = number => {\r\n  if(number !== null) {\r\n    const currency = (number / 100)\r\n\r\n    return currency.toLocaleString('pt-BR', { style: 'currency', currency: 'BRL' });\r\n  }\r\n\r\n  return false\r\n}\r\nconst generateInstallmentInformation = arrays => {\r\n\r\n  arrays.map( item => \r\n    `ou em ${item.quantity}x de ${generateFormattedCurrency(item.value)}`\r\n  )\r\n}\r\nconst generateProductsTemplate = products => products.map(({ imageUrl, productName, listPrice, price, stars, installments }) => `\r\n  <article class=\"products-item\">\r\n    <figure class=\"products-figure\">\r\n      <img src=\"${imageUrl}\" alt=\"${productName}\" class=\"image-responsive\">\r\n    </figure>\r\n    <div class=\"products-info\">\r\n      <h2 class=\"products-name\">${productName}</h2>\r\n      <div class=\"stars-items\">\r\n        <svg width=\"12\" height=\"11\" fill=\"none\" class=\"star-item\">\r\n          <path class=\"star-fill\" d=\"M5.7 8.7L9.2 10.6 8.3 6.9 11.4 4.5 7.3 4.1 5.7 0.6 4.1 4.1 0 4.5 3.1 6.9 2.2 10.6 5.7 8.7Z\" fill=\"#F8475F\"/>\r\n          <path class=\"star\" d=\"M11.4 4.5L7.3 4.1 5.7 0.6 4.1 4.1 0 4.5 3.1 6.9 2.2 10.6 5.7 8.7 9.2 10.6 8.3 6.9 11.4 4.5ZM5.7 7.7L3.6 8.9 4.1 6.6 2.2 5.1 4.7 4.9 5.7 2.8 6.7 4.9 9.2 5.1 7.3 6.6 7.8 8.9 5.7 7.7Z\" fill=\"#F8475F\"/>\r\n        </svg>\r\n        <svg width=\"12\" height=\"11\" fill=\"none\" class=\"star-item\">\r\n          <path class=\"star-fill\" d=\"M5.7 8.7L9.2 10.6 8.3 6.9 11.4 4.5 7.3 4.1 5.7 0.6 4.1 4.1 0 4.5 3.1 6.9 2.2 10.6 5.7 8.7Z\" fill=\"#F8475F\"/>\r\n          <path class=\"star\" d=\"M11.4 4.5L7.3 4.1 5.7 0.6 4.1 4.1 0 4.5 3.1 6.9 2.2 10.6 5.7 8.7 9.2 10.6 8.3 6.9 11.4 4.5ZM5.7 7.7L3.6 8.9 4.1 6.6 2.2 5.1 4.7 4.9 5.7 2.8 6.7 4.9 9.2 5.1 7.3 6.6 7.8 8.9 5.7 7.7Z\" fill=\"#F8475F\"/>\r\n        </svg>\r\n        <svg width=\"12\" height=\"11\" fill=\"none\" class=\"star-item\">\r\n          <path class=\"star-fill\" d=\"M5.7 8.7L9.2 10.6 8.3 6.9 11.4 4.5 7.3 4.1 5.7 0.6 4.1 4.1 0 4.5 3.1 6.9 2.2 10.6 5.7 8.7Z\" fill=\"#F8475F\"/>\r\n          <path class=\"star\" d=\"M11.4 4.5L7.3 4.1 5.7 0.6 4.1 4.1 0 4.5 3.1 6.9 2.2 10.6 5.7 8.7 9.2 10.6 8.3 6.9 11.4 4.5ZM5.7 7.7L3.6 8.9 4.1 6.6 2.2 5.1 4.7 4.9 5.7 2.8 6.7 4.9 9.2 5.1 7.3 6.6 7.8 8.9 5.7 7.7Z\" fill=\"#F8475F\"/>\r\n        </svg>\r\n        <svg width=\"12\" height=\"11\" fill=\"none\" class=\"star-item\">\r\n          <path class=\"star-fill\" d=\"M5.7 8.7L9.2 10.6 8.3 6.9 11.4 4.5 7.3 4.1 5.7 0.6 4.1 4.1 0 4.5 3.1 6.9 2.2 10.6 5.7 8.7Z\" fill=\"#F8475F\"/>\r\n          <path class=\"star\" d=\"M11.4 4.5L7.3 4.1 5.7 0.6 4.1 4.1 0 4.5 3.1 6.9 2.2 10.6 5.7 8.7 9.2 10.6 8.3 6.9 11.4 4.5ZM5.7 7.7L3.6 8.9 4.1 6.6 2.2 5.1 4.7 4.9 5.7 2.8 6.7 4.9 9.2 5.1 7.3 6.6 7.8 8.9 5.7 7.7Z\" fill=\"#F8475F\"/>\r\n        </svg>\r\n        <svg width=\"12\" height=\"11\" fill=\"none\" class=\"star-item\">\r\n          <path class=\"star-fill\" d=\"M5.7 8.7L9.2 10.6 8.3 6.9 11.4 4.5 7.3 4.1 5.7 0.6 4.1 4.1 0 4.5 3.1 6.9 2.2 10.6 5.7 8.7Z\" fill=\"#F8475F\"/>\r\n          <path class=\"star\" d=\"M11.4 4.5L7.3 4.1 5.7 0.6 4.1 4.1 0 4.5 3.1 6.9 2.2 10.6 5.7 8.7 9.2 10.6 8.3 6.9 11.4 4.5ZM5.7 7.7L3.6 8.9 4.1 6.6 2.2 5.1 4.7 4.9 5.7 2.8 6.7 4.9 9.2 5.1 7.3 6.6 7.8 8.9 5.7 7.7Z\" fill=\"#F8475F\"/>\r\n        </svg>\r\n      </div>\r\n      <p class=\"products-listprice\">de ${generateFormattedCurrency(listPrice)}</p>\r\n      <p class=\"products-price\">por ${generateFormattedCurrency(price)}</p>\r\n      <p class=\"products-installment\">${generateInstallmentInformation(installments)}</p>\r\n    </div>\r\n    <button class=\"products-buy\">Comprar</button>\r\n  </article>`).join('')\r\n\r\n\r\nconst cleanInstallmentContainer = container => {\r\n  document.querySelectorAll(container).forEach( item => {\r\n    item.remove()\r\n  })\r\n}\r\nconst cleanListPriceContainer = container => {\r\n  document.querySelectorAll(container).forEach( item => {\r\n    if(item.textContent === 'de false') {\r\n      item.remove()\r\n    }\r\n  })\r\n}\r\nconst cleanContainers = (primaryContainer, secondContainer) => {\r\n  cleanInstallmentContainer(primaryContainer)\r\n  cleanListPriceContainer(secondContainer)\r\n}\r\n\r\nconst addProductsIntoDOM = async () => {\r\n  const products = await getProducts()\r\n  const productsTemplate = generateProductsTemplate(products)\r\n\r\n  productsContainer.innerHTML += productsTemplate\r\n  \r\n  cleanContainers('.products-installment', '.products-listprice')\r\n}\r\n\r\nconst paragraphFeedbackMessageEmail = document.createElement('p')\r\nconst paragraphFeedbackMessageName = document.createElement('p')\r\n\r\nconst insertFeedbackMessage = (input, text, target) => {  \r\n  target.setAttribute('class', 'error')\r\n  target.textContent = text\r\n\r\n  input.style.outline = '#D7182A auto 1px'\r\n  input.insertAdjacentElement('afterend', target)\r\n}\r\nconst removeFeedbackMessage = input => {\r\n  const error = document.querySelector('.error')\r\n  \r\n  input.style.outline = 'none'\r\n  error.remove()\r\n}\r\nconst testName = name => /^[a-z-A-Z\\D]+$/g.test(name);\r\nconst testEmail = email => /^[a-z0-9.]+@[a-z0-9]+\\.[a-z]+\\.([a-z]+)?$/i.test(email);\r\n\r\nconst formReset = () => {\r\n  form.reset()\r\n  form.name.focus()\r\n}\r\n\r\nform.addEventListener('submit', event => {\r\n  event.preventDefault()\r\n\r\n  const name = event.target.name\r\n  const email = event.target.email\r\n  \r\n})\r\n\r\nform.name.addEventListener('input', () => {\r\n  const isValidName = testName(name.value)\r\n\r\n  if (isValidName) {\r\n    removeFeedbackMessage(name)\r\n    return\r\n  }\r\n  insertFeedbackMessage(name, 'Preencha com seu nome completo' ,paragraphFeedbackMessageName)\r\n})\r\n\r\nform.email.addEventListener('input', () => {\r\n  const isValidEmail = testEmail(email.value)\r\n  if(isValidEmail) {\r\n    removeFeedbackMessage(email)\r\n    return\r\n  }\r\n  insertFeedbackMessage(email, 'Preencha com um e-mail v√°lido', paragraphFeedbackMessageEmail)\r\n})\r\n\r\naddProductsIntoDOM()"]}